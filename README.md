# weight-logs-test3

### æ¦‚è¦ã€€

ç¢ºèªãƒ†ã‚¹ãƒˆ 3 å›ç›®ï¼šLaravel ã‚’ç”¨ã„ãŸä½“é‡ãƒ­ã‚°ç®¡ç†ã‚¢ãƒ—ãƒªã®æå‡ºç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

---

### ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰æ‰‹é †

## 1. ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®š

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone ã—ã¦ãã ã•ã„ã€‚

```bash
cd coachtech/laravel
git clone https://github.com/megumi2233/weight-logs-test3.git
cd weight-logs-test3
```

## 2. Docker ã®è¨­å®š

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«å¿…è¦ãªã‚µãƒ¼ãƒ“ã‚¹ï¼ˆnginx, php, mysql, phpMyAdminï¼‰ã‚’ Docker ã§æ§‹ç¯‰ãƒ»èµ·å‹•ã—ã¾ã™ã€‚

äº‹å‰ã« Docker Desktop ã‚’èµ·å‹•ã—ã€ã‚¯ã‚¸ãƒ© ğŸ³ ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ Docker ç’°å¢ƒã‚’æ§‹ç¯‰ãƒ»èµ·å‹•ã—ã¾ã™ã€‚

```bash
docker-compose up -d --build
```

ã‚³ãƒ³ãƒ†ãƒŠãŒç«‹ã¡ä¸ŠãŒã‚Œã°æˆåŠŸã§ã™ã€‚

## 3. Laravel ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Laravel ã®å‹•ä½œã«å¿…è¦ãªä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
docker-compose exec php bash
cd /var/www/html
composer install
```

## 4. .env ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

Laravel ã®ç’°å¢ƒè¨­å®šã‚’è¡Œã†ãŸã‚ã«ã€`.env.example` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
cp .env.example .env
```

â€» .env.example ã‚’å‚è€ƒã«æ–°ã—ã .env ã‚’ä½œæˆã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚

.env ã® DB è¨­å®šã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¦ã€DB æ¥ç¶šæƒ…å ±ã‚„ APP_KEY ãªã©ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™ã€‚

```Env
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=laravel_db
DB_USERNAME=laravel_user
DB_PASSWORD=laravel_pass
```

## 5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã®ç”Ÿæˆ

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®ã‚­ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

```bash
php artisan key:generate
```

â€»ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ **php ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ**ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

### php ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã£ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã¸ç§»å‹•ã™ã‚‹æ–¹æ³•

```bash
docker-compose exec php bash
cd /var/www/html
```

â€» ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰æŠœã‘ã‚‹ã¨ãã¯ exit ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

## 6. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚ **php ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ**ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
php artisan migrate
```

## 7. ã‚·ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å®Ÿè¡Œ

åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã—ã¾ã™ã€‚

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚ **php ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ**ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
php artisan db:seed
```

## 8. ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ä½œæˆ

ç”»åƒã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ storage/app/public ã‹ã‚‰å…¬é–‹ã§ãã‚‹ã‚ˆã†ã«ãƒªãƒ³ã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚‚ **php ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ**ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
php artisan storage:link
```
---

###  View ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
 resources/views/layouts/common_white.blade.phpï¼ˆå…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€Œãƒ›ãƒ¯ã‚¤ãƒˆç³»ã€ï¼‰
resources/views/layouts/common_pink.blade.phpï¼ˆå…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€Œãƒ”ãƒ³ã‚¯ç³»ã€ï¼‰
resources/views/weight_logs/index.blade.php(ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ç®¡ç†ç”»é¢ï¼‰
resources/views/goal/goal_setting.blade.php(ç›®æ¨™è¨­å®šç”»é¢ï¼‰
resources/views/weight_logs/search.blade.phpï¼ˆæ¤œç´¢ç”»é¢ï¼‰
resources/views/weight_logs/show.blade.php(ä½“é‡è©³ç´°ç”»é¢)
resources/views/weight_logs/create.blade.php(ä½“é‡ç™»éŒ²ç”»é¢)
resources/views/weight_logs/modal_create.blade.php(ä½“é‡ç™»éŒ²ç”»é¢ã€€ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºæ™‚)
resources/views/register/step1.blade.phpï¼ˆä¼šå“¡ç™»éŒ²ç”»é¢ï¼‰
resources/views/auth/login.blade.phpï¼ˆãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ï¼‰
resources/views/register/step2.blade.php(åˆæœŸç›®æ¨™ä½“é‡ç™»éŒ²ç”»é¢)

---

## CSS ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
public/css/common_white.css(å…±é€š CSSã€Œãƒ›ãƒ¯ã‚¤ãƒˆç³»ã€)
public/css/common_pink.css(å…±é€š CSSã€Œãƒ”ãƒ³ã‚¯ç³»ã€)
public/css/dashboard.cssï¼ˆãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ç®¡ç†ç”»é¢ï¼‰
public/css/goal_setting.cssï¼ˆç›®æ¨™è¨­å®šç”»é¢ï¼‰
public/css/search.cssï¼ˆæ¤œç´¢ç”»é¢ï¼‰
public/css/show.css(ä½“é‡è©³ç´°ç”»é¢)
public/css/weight_create.css(ä½“é‡ç™»éŒ²ç”»é¢)
public/css/weight_modal.css(ä½“é‡ç™»éŒ²ç”»é¢ã€€ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºæ™‚)
public/css/register_step1.cssï¼ˆä¼šå“¡ç™»éŒ²ç”»é¢ï¼‰
public/css/login.cssï¼ˆãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ï¼‰
public/css/register_step2.css(åˆæœŸç›®æ¨™ä½“é‡ç™»éŒ²ç”»é¢)

---

### ğŸ›  ä½¿ç”¨æŠ€è¡“ï¼ˆã“ã®ä¾‹ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ç’°å¢ƒï¼‰
- **PHP 8.2**  
- **Laravel 10.x**  
- **MySQL 8.0.x**  
- **Dockerï¼ˆé–‹ç™ºç’°å¢ƒæ§‹ç¯‰ï¼‰**  
  - nginxï¼ˆWebã‚µãƒ¼ãƒï¼‰  
  - phpï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰  
  - mysqlï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰  
  - phpmyadminï¼ˆDBç®¡ç†ãƒ„ãƒ¼ãƒ«ï¼‰  
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰**: Viteï¼ˆLaravelå…¬å¼æ¨å¥¨ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ï¼‰

---

### ğŸ“‹ ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ
## usersãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å     | å‹               | PRIMARY KEY | NOT NULL | FOREIGN KEY |
|--------------|------------------|-------------|-----------|--------------|
| id           | bigint unsigned  | â—‹           | â—‹         |              |
| name         | varchar(255)     |             | â—‹         |              |
| email        | varchar(255)     |             | â—‹         |              |
| password     | varchar(255)     |             | â—‹         |              |
| created_at   | timestamp        |             |           |              |
| updated_at   | timestamp        |             |           |              |


##ã€€weight_logsãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å         | å‹               | PRIMARY KEY | NOT NULL | FOREIGN KEY |
|------------------|------------------|-------------|-----------|--------------|
| id               | bigint unsigned  | â—‹           | â—‹         |              |
| user_id          | bigint unsigned  |             | â—‹         | â—‹            |
| date             | date             |             | â—‹         |              |
| weight           | decimal(4,1)     |             | â—‹         |              |
| calories         | int              |             |           |              |
| exercise_time    | time             |             |           |              |
| exercise_content | text             |             |           |              |
| created_at       | timestamp        |             |           |              |
| updated_at       | timestamp        |             |           |              |

##ã€€weight_targetãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å       | å‹               | PRIMARY KEY | NOT NULL | FOREIGN KEY |
|----------------|------------------|-------------|-----------|--------------|
| id             | bigint unsigned  | â—‹           | â—‹         |              |
| user_id        | bigint unsigned  |             | â—‹         | â—‹            |
| target_weight  | decimal(4,1)     |             | â—‹         |              |
| current_weight | decimal(4,1)     |             |           |              |
| created_at     | timestamp        |             |           |              |
| updated_at     | timestamp        |             |           |              |

---

### ğŸ—‚ ERå›³ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼‰

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¦–è¦šçš„ã«æŠŠæ¡ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã«ERå›³ã‚’æ²è¼‰ã—ã¦ã„ã¾ã™ã€‚

ã“ã®å›³ã§ã¯ã€`users` ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä¸­å¿ƒã«ã€`weight_logs` ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ `weight_target` ãƒ†ãƒ¼ãƒ–ãƒ«ãŒãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§æ¥ç¶šã•ã‚Œã¦ã„ã¾ã™ã€‚  
`weight_logs` ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½“é‡è¨˜éŒ²ã‚’ä¿æŒã—ã€`weight_target` ã¯ç›®æ¨™ä½“é‡ã®å±¥æ­´ã‚’ä¿æŒã™ã‚‹ãŸã‚ã€ã„ãšã‚Œã‚‚ `users` ã«å¯¾ã—ã¦ã€Œ1å¯¾å¤šã€ã®é–¢ä¿‚ã¨ãªã£ã¦ã„ã¾ã™ã€‚  
å„ãƒ†ãƒ¼ãƒ–ãƒ«ã¯è¡¨å½¢å¼ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€ä¸»ã‚­ãƒ¼ï¼ˆPKï¼‰ã®å½¹å‰²ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚

![ERå›³](assets/weight-logs-er.png)

â€» è£œè¶³ï¼š
1. å›³ã¯ draw.ioï¼ˆdiagrams.netï¼‰ã«ã¦ä½œæˆã—ã€PNGå½¢å¼ã§ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚  
2. å…ƒãƒ‡ãƒ¼ã‚¿ã¯ `weight-logs-er.drawio` ã«ã¦ç·¨é›†å¯èƒ½ã§ã™ã€‚  
3. PNGãƒ•ã‚¡ã‚¤ãƒ«ã¯ `assets/weight-logs-er.png` ã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚  
   â†’ READMEã§ã¯ã“ã®ç”»åƒã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚  
4. ç·¨é›†ã«ã¯ [draw.ioï¼ˆdiagrams.netï¼‰](https://app.diagrams.net/) ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚  
ã€€ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ—ãƒªã¾ãŸã¯ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆã®ã©ã¡ã‚‰ã§ã‚‚ç·¨é›†å¯èƒ½ã§ã™ã€‚  
5. ERå›³ã®æ›´æ–°æ‰‹é †ï¼šdrawioã§ç·¨é›† â†’ PNGå†å‡ºåŠ› â†’ assetsã«ä¸Šæ›¸ãä¿å­˜ â†’ READMEç¢ºèª  
   â€»GitHubä¸Šã§ç”»åƒãŒæ›´æ–°ã•ã‚Œãªã„å ´åˆã¯ã€Shift+å†èª­ã¿è¾¼ã¿ï¼ˆCtrl+Shift+Rï¼‰ãªã©ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å¼·åˆ¶ã‚¯ãƒªã‚¢ã—ã¦ãã ã•ã„ã€‚

---

### ğŸŒ ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ç¢ºèªç”¨URL
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³: [http://localhost/login](http://localhost/login)
  â†’ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
  
  ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ï¼ˆãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰ã€€email: dummy@example.com
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€password: password
  
- phpMyAdmin: [http://localhost:8080/](http://localhost:8080/)
  â†’ DB æ¥ç¶šç¢ºèªã‚„ãƒ†ãƒ¼ãƒ–ãƒ«å†…å®¹ã®ç¢ºèªãŒå¯èƒ½ã§ã™

---

### ä¼šå“¡ç™»éŒ²æ™‚ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶ç´„ã«ã¤ã„ã¦

- `users` ãƒ†ãƒ¼ãƒ–ãƒ«ã® `email` ã‚«ãƒ©ãƒ ã«ã¯ **ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„** ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚  
  - Laravelã®èªè¨¼æ©Ÿèƒ½ã§ã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ã‚­ãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ãŸã‚ã€åŒã˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¨±å¯ã™ã‚‹ã¨èªè¨¼åˆ¤å®šãŒã§ããªããªã‚‹ãŸã‚ã§ã™ã€‚  
  - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ« `create_users_table.php` ã«ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã„ã¾ã™ï¼š

    ```php
    $table->string('email')->unique();
    ```

- ã“ã®åˆ¶ç´„ã«ã‚ˆã‚Šã€åŒã˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§å†åº¦ç™»éŒ²ã—ã‚ˆã†ã¨ã™ã‚‹ã¨DBãƒ¬ãƒ™ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚  
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ†ã‹ã‚Šã‚„ã™ãä¼ãˆã‚‹ãŸã‚ã€`RegisterAccountRequest` ã«ä»¥ä¸‹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã—ãŸï¼š

    ```php
    'email' => ['required', 'email', 'unique:users,email'],
    ```

- ã•ã‚‰ã«ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ—¥æœ¬èªã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã„ã¾ã™ï¼š

    ```php
    'email.unique' => 'ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã™ã§ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™',
    ```

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯é‡è¤‡ç™»éŒ²ã‚’è©¦ã¿ãŸéš›ã« **ã€Œã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã™ã§ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€** ã¨è¡¨ç¤ºã•ã‚Œã€  
ã‚¨ãƒ©ãƒ¼ç”»é¢ã§ã¯ãªãã€ãƒ•ã‚©ãƒ¼ãƒ ä¸Šã§åˆ†ã‹ã‚Šã‚„ã™ãä¿®æ­£ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

---

## èªè¨¼å¾Œã®é·ç§»å…ˆã«ã¤ã„ã¦

Laravelã®æ—¢å®šã§ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³å¾Œã« `/home` ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ä»•æ§˜ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã—æœ¬ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ `/home` ãƒ«ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ãŠã‚‰ãšã€ãƒ†ã‚¹ãƒˆæŒ‡ç¤ºæ›¸ã«å¾“ã„ `/weight_logs` ã‚’ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¨ã—ã¦è¨­è¨ˆã—ã¦ã„ã¾ã™ã€‚

ãã®ãŸã‚ã€ä»¥ä¸‹ã®å¯¾å¿œã‚’è¡Œã£ã¦ã„ã¾ã™ï¼š

- `LoginController.php` ã«ã¦ `$redirectTo = '/weight_logs'` ã‚’æ˜ç¤º
- `RouteServiceProvider::HOME` ã‚’ `/weight_logs` ã«å¤‰æ›´
- ä¸‡ãŒä¸€ `/home` ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸå ´åˆã®ä¿é™ºã¨ã—ã¦ã€`/home` â†’ `/weight_logs` ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ 

```php
Route::get('/home', function () {
    return redirect('/weight_logs');
});
 ```

---

### current_weight ã‚«ãƒ©ãƒ è¿½åŠ ã®è¨­è¨ˆæ„å›³ï¼š
`weight_target` ãƒ†ãƒ¼ãƒ–ãƒ«ã® `current_weight` ã‚«ãƒ©ãƒ ã«ã¤ã„ã¦ ä»•æ§˜æ›¸ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ï¼‰ã«ã¯ `current_weight` ã®è¨˜è¼‰ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ç”»é¢ä»•æ§˜ï¼ˆPG09 åˆæœŸä½“é‡ç™»éŒ²ç”»é¢ï¼‰ãŠã‚ˆã³ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆFN008ã€œFN009ï¼‰ã«ãŠã„ã¦ã€Œç¾åœ¨ã®ä½“é‡ã€ã®å…¥åŠ›é …ç›®ãŒå­˜åœ¨ã™ã‚‹ãŸã‚ã€æ•´åˆæ€§ã‚’ä¿ã¤ç›®çš„ã§ `weight_target` ãƒ†ãƒ¼ãƒ–ãƒ«ã« `current_weight` ã‚«ãƒ©ãƒ ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚
ã“ã®ã‚«ãƒ©ãƒ ã¯ä»¥ä¸‹ã®ç›®çš„ã§ä½¿ç”¨ã•ã‚Œã¾ã™ï¼š 
- STEP2ç”»é¢ï¼ˆåˆæœŸç›®æ¨™ä½“é‡ç™»éŒ²ç”»é¢ï¼‰ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸã€Œç¾åœ¨ã®ä½“é‡ã€ã®ä¿å­˜å…ˆã¨ã—ã¦ä½¿ç”¨
- ç®¡ç†ç”»é¢ï¼ˆPG01ï¼‰ä¸Šéƒ¨ã®ã€Œæœ€æ–°ä½“é‡ã€ã¨ã€Œç›®æ¨™ã¾ã§ã€ï¼ˆæœ€æ–°ä½“é‡ - ç›®æ¨™ä½“é‡ï¼‰ã®è¡¨ç¤ºã«ä½¿ç”¨
  
  ï¼ˆç™»éŒ²åˆæœŸæ™‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚
  ã€€ç®¡ç†ç”»é¢ã®ã€Œæœ€æ–°ä½“é‡ã€ã‚’è¡¨ç¤ºã™ã‚‹éš›ã«ã€weight_logs ãŒç©ºãªã‚‰ weight_target ã® current_weight ã‚’ä½¿ã„ã€weight_logs ã«ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹ãªã‚‰æœ€æ–°ã®æ—¥ä»˜ã® weight ã‚’ä½¿ã„ã¾ã™ã€‚ï¼‰
- å°†æ¥çš„ã«ã€ŒåˆæœŸä½“é‡ â†’ æœ€æ–°ä½“é‡ â†’ ç›®æ¨™ä½“é‡ã€ã®é€²æ—è¡¨ç¤ºã‚„ã‚°ãƒ©ãƒ•æç”»ã«æ´»ç”¨å¯èƒ½
- ç”»é¢ä»•æ§˜ã¨DBè¨­è¨ˆã®å¯¾å¿œé–¢ä¿‚ã‚’æ˜ç¢ºã«ã—ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã®æ··ä¹±ã‚’é˜²æ­¢
  
 â€»ä»•æ§˜æ›¸ã¨ã®å·®åˆ†ã«ã¤ã„ã¦ã¯ã€ç”»é¢ä»•æ§˜ãŠã‚ˆã³ç®¡ç†ç”»é¢UIã«æº–æ‹ ã—ãŸè¨­è¨ˆåˆ¤æ–­ã¨ã—ã¦è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚
 â€»ãªãŠã€ç®¡ç†ç”»é¢ï¼ˆPG01ï¼‰ã§ã¯ `current_weight` ã¯ç›´æ¥è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ãŒã€åˆæœŸç™»éŒ²æ™‚ã®ã€Œæœ€æ–°ä½“é‡ã€ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ãŸã‚ã€é€²æ—è¨ˆç®—ã®åˆæœŸå€¤ã¨ã—ã¦ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚

 ---

### èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã«ã¤ã„ã¦

ç®¡ç†ç”»é¢ï¼ˆPG01ï¼‰ã‚’å«ã‚€ä½“é‡ãƒ­ã‚°é–¢é€£ã®ç”»é¢ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆã—ã¦ã„ã¾ã™ã€‚

`WeightLogController` ã« `auth` ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€æœªãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã§ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸå ´åˆã¯è‡ªå‹•çš„ã«ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã€ã‚¨ãƒ©ãƒ¼ã‚’é˜²æ­¢ã—ã¦ã„ã¾ã™ã€‚

```php
public function __construct()
{
    $this->middleware('auth');
}
 ```

---


